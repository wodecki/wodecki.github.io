<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5.2 Organizacja, pierwszy obraz i prosta aplikacja | Architektury i metodyki wdrożeń systemów Sztucznej Inteligencji</title>
  <meta name="description" content="Materiały szkoleniowe z zakresu MLDevOps." />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="5.2 Organizacja, pierwszy obraz i prosta aplikacja | Architektury i metodyki wdrożeń systemów Sztucznej Inteligencji" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Materiały szkoleniowe z zakresu MLDevOps." />
  <meta name="github-repo" content="openscapes/series" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5.2 Organizacja, pierwszy obraz i prosta aplikacja | Architektury i metodyki wdrożeń systemów Sztucznej Inteligencji" />
  
  <meta name="twitter:description" content="Materiały szkoleniowe z zakresu MLDevOps." />
  

<meta name="author" content="Andrzej Wodecki" />


<meta name="date" content="2022-06-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="wprowadzenie-1.html"/>
<link rel="next" href="wykorzystanie-gotowych-kontenerów.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="lib/css/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="lib/css/style.css" type="text/css" />
<link rel="stylesheet" href="lib/css/lesson.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Architektury i Metodyki Wdrozen Systemów Sztucznej Inteligencji</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="wprowadzenie.html"><a href="wprowadzenie.html"><i class="fa fa-check"></i><b>1</b> Wprowadzenie</a>
<ul>
<li class="chapter" data-level="1.1" data-path="motywacja.html"><a href="motywacja.html"><i class="fa fa-check"></i><b>1.1</b> <strong>Motywacja</strong></a></li>
<li class="chapter" data-level="1.2" data-path="cele-kursu.html"><a href="cele-kursu.html"><i class="fa fa-check"></i><b>1.2</b> Cele kursu</a></li>
<li class="chapter" data-level="1.3" data-path="warsztaty.html"><a href="warsztaty.html"><i class="fa fa-check"></i><b>1.3</b> Warsztaty</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="architektury-it.html"><a href="architektury-it.html"><i class="fa fa-check"></i><b>2</b> Architektury IT</a>
<ul>
<li class="chapter" data-level="2.1" data-path="potoki-danych.html"><a href="potoki-danych.html"><i class="fa fa-check"></i><b>2.1</b> Potoki danych</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="potoki-danych.html"><a href="potoki-danych.html#typy-danych"><i class="fa fa-check"></i><b>2.1.1</b> Typy danych</a></li>
<li class="chapter" data-level="2.1.2" data-path="potoki-danych.html"><a href="potoki-danych.html#bazy-danych"><i class="fa fa-check"></i><b>2.1.2</b> Bazy danych</a></li>
<li class="chapter" data-level="2.1.3" data-path="potoki-danych.html"><a href="potoki-danych.html#hurtownie-danych"><i class="fa fa-check"></i><b>2.1.3</b> Hurtownie danych</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="jeziora-danych.html"><a href="jeziora-danych.html"><i class="fa fa-check"></i><b>2.2</b> Jeziora danych</a></li>
<li class="chapter" data-level="2.3" data-path="konsumenci-danych.html"><a href="konsumenci-danych.html"><i class="fa fa-check"></i><b>2.3</b> Konsumenci danych</a></li>
<li class="chapter" data-level="2.4" data-path="producenci-danych.html"><a href="producenci-danych.html"><i class="fa fa-check"></i><b>2.4</b> Producenci danych</a></li>
<li class="chapter" data-level="2.5" data-path="transformacja-danych.html"><a href="transformacja-danych.html"><i class="fa fa-check"></i><b>2.5</b> Transformacja danych</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="transformacja-danych.html"><a href="transformacja-danych.html#przetwarzanie-etl-extract-transform-load"><i class="fa fa-check"></i><b>2.5.1</b> Przetwarzanie ETL (Extract, Transform, Load)</a></li>
<li class="chapter" data-level="2.5.2" data-path="transformacja-danych.html"><a href="transformacja-danych.html#przetwarzanie-elt-extract-load-transform"><i class="fa fa-check"></i><b>2.5.2</b> Przetwarzanie ELT (Extract, Load, Transform)</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="strategia-wdrożenia.html"><a href="strategia-wdrożenia.html"><i class="fa fa-check"></i><b>2.6</b> Strategia wdrożenia</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="strategia-wdrożenia.html"><a href="strategia-wdrożenia.html#własne-czy-gotowe"><i class="fa fa-check"></i><b>2.6.1</b> Własne czy gotowe?</a></li>
<li class="chapter" data-level="2.6.2" data-path="strategia-wdrożenia.html"><a href="strategia-wdrożenia.html#otwarte-czy-komercyjne"><i class="fa fa-check"></i><b>2.6.2</b> Otwarte czy komercyjne?</a></li>
<li class="chapter" data-level="2.6.3" data-path="strategia-wdrożenia.html"><a href="strategia-wdrożenia.html#u-siebie-czy-w-chmurze"><i class="fa fa-check"></i><b>2.6.3</b> U siebie czy “w chmurze”?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="modelowanie-architektur.html"><a href="modelowanie-architektur.html"><i class="fa fa-check"></i><b>3</b> Modelowanie architektur</a>
<ul>
<li class="chapter" data-level="3.1" data-path="cykl-życia-modelu-uczenia-maszynowego.html"><a href="cykl-życia-modelu-uczenia-maszynowego.html"><i class="fa fa-check"></i><b>3.1</b> Cykl życia modelu uczenia maszynowego</a></li>
<li class="chapter" data-level="3.2" data-path="demo-trening-i-ewaluacja-modelu.html"><a href="demo-trening-i-ewaluacja-modelu.html"><i class="fa fa-check"></i><b>3.2</b> Demo: trening i ewaluacja modelu</a></li>
<li class="chapter" data-level="3.3" data-path="ćwiczenie-trening-i-ewaluacja-modelu.html"><a href="ćwiczenie-trening-i-ewaluacja-modelu.html"><i class="fa fa-check"></i><b>3.3</b> Ćwiczenie: trening i ewaluacja modelu</a></li>
<li class="chapter" data-level="3.4" data-path="modelowanie-architektury---wprowadzenie.html"><a href="modelowanie-architektury---wprowadzenie.html"><i class="fa fa-check"></i><b>3.4</b> Modelowanie architektury - wprowadzenie</a></li>
<li class="chapter" data-level="3.5" data-path="modelowanie-architektury---organizacja.html"><a href="modelowanie-architektury---organizacja.html"><i class="fa fa-check"></i><b>3.5</b> Modelowanie architektury - organizacja</a></li>
<li class="chapter" data-level="3.6" data-path="modelowanie-architektury---specyfikacja-wymagań.html"><a href="modelowanie-architektury---specyfikacja-wymagań.html"><i class="fa fa-check"></i><b>3.6</b> Modelowanie architektury - specyfikacja wymagań</a></li>
<li class="chapter" data-level="3.7" data-path="modelowanie-architektury---modelowanie.html"><a href="modelowanie-architektury---modelowanie.html"><i class="fa fa-check"></i><b>3.7</b> Modelowanie architektury - modelowanie</a></li>
<li class="chapter" data-level="3.8" data-path="demo-modelowanie.html"><a href="demo-modelowanie.html"><i class="fa fa-check"></i><b>3.8</b> Demo: modelowanie</a></li>
<li class="chapter" data-level="3.9" data-path="podsumowanie-modelowanie-architektur.html"><a href="podsumowanie-modelowanie-architektur.html"><i class="fa fa-check"></i><b>3.9</b> Podsumowanie: modelowanie architektur</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="monitoring-modeli.html"><a href="monitoring-modeli.html"><i class="fa fa-check"></i><b>4</b> Monitoring modeli</a>
<ul>
<li class="chapter" data-level="4.1" data-path="monitoring-modeli---wprowadzenie.html"><a href="monitoring-modeli---wprowadzenie.html"><i class="fa fa-check"></i><b>4.1</b> Monitoring modeli - wprowadzenie</a></li>
<li class="chapter" data-level="4.2" data-path="demo-monitoring-modelu.html"><a href="demo-monitoring-modelu.html"><i class="fa fa-check"></i><b>4.2</b> Demo: monitoring modelu</a></li>
<li class="chapter" data-level="4.3" data-path="ćwiczenie-monitoring-modelu.html"><a href="ćwiczenie-monitoring-modelu.html"><i class="fa fa-check"></i><b>4.3</b> Ćwiczenie: monitoring modelu</a></li>
<li class="chapter" data-level="4.4" data-path="detekcja-dryfu-modelu.html"><a href="detekcja-dryfu-modelu.html"><i class="fa fa-check"></i><b>4.4</b> Detekcja dryfu modelu</a></li>
<li class="chapter" data-level="4.5" data-path="demo-detekcja-dryfu.html"><a href="demo-detekcja-dryfu.html"><i class="fa fa-check"></i><b>4.5</b> Demo: detekcja dryfu</a></li>
<li class="chapter" data-level="4.6" data-path="ćwiczenia-detekcja-dryfu-i-dotrenowanie.html"><a href="ćwiczenia-detekcja-dryfu-i-dotrenowanie.html"><i class="fa fa-check"></i><b>4.6</b> Ćwiczenia: detekcja dryfu i dotrenowanie</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="ćwiczenia-detekcja-dryfu-i-dotrenowanie.html"><a href="ćwiczenia-detekcja-dryfu-i-dotrenowanie.html#ćwiczenie-detekcja-dryfu"><i class="fa fa-check"></i><b>4.6.1</b> Ćwiczenie: detekcja dryfu</a></li>
<li class="chapter" data-level="4.6.2" data-path="ćwiczenia-detekcja-dryfu-i-dotrenowanie.html"><a href="ćwiczenia-detekcja-dryfu-i-dotrenowanie.html#ćwiczenie-uruchomienie-dotrenowania"><i class="fa fa-check"></i><b>4.6.2</b> Ćwiczenie: uruchomienie dotrenowania</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="monitoring-modeli---podsumowanie.html"><a href="monitoring-modeli---podsumowanie.html"><i class="fa fa-check"></i><b>4.7</b> Monitoring modeli - podsumowanie</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="konteneryzacja.html"><a href="konteneryzacja.html"><i class="fa fa-check"></i><b>5</b> Konteneryzacja</a>
<ul>
<li class="chapter" data-level="5.1" data-path="wprowadzenie-1.html"><a href="wprowadzenie-1.html"><i class="fa fa-check"></i><b>5.1</b> Wprowadzenie</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="wprowadzenie-1.html"><a href="wprowadzenie-1.html#scenariusze-użycia-docker-w-projektach-data-science"><i class="fa fa-check"></i><b>5.1.1</b> Scenariusze użycia docker w projektach Data Science</a></li>
<li class="chapter" data-level="5.1.2" data-path="wprowadzenie-1.html"><a href="wprowadzenie-1.html#niezbędne-umiejętności"><i class="fa fa-check"></i><b>5.1.2</b> Niezbędne umiejętności</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="organizacja-pierwszy-obraz-i-prosta-aplikacja.html"><a href="organizacja-pierwszy-obraz-i-prosta-aplikacja.html"><i class="fa fa-check"></i><b>5.2</b> Organizacja, pierwszy obraz i prosta aplikacja</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="organizacja-pierwszy-obraz-i-prosta-aplikacja.html"><a href="organizacja-pierwszy-obraz-i-prosta-aplikacja.html#demo---pierwszy-obraz-docker"><i class="fa fa-check"></i><b>5.2.1</b> Demo - pierwszy obraz docker</a></li>
<li class="chapter" data-level="5.2.2" data-path="organizacja-pierwszy-obraz-i-prosta-aplikacja.html"><a href="organizacja-pierwszy-obraz-i-prosta-aplikacja.html#demo-trenowanie-i-ewaluacja"><i class="fa fa-check"></i><b>5.2.2</b> Demo: trenowanie i ewaluacja</a></li>
<li class="chapter" data-level="5.2.3" data-path="organizacja-pierwszy-obraz-i-prosta-aplikacja.html"><a href="organizacja-pierwszy-obraz-i-prosta-aplikacja.html#ćwiczenie-prosta-transformacja-danych-z-pandas"><i class="fa fa-check"></i><b>5.2.3</b> Ćwiczenie: prosta transformacja danych z pandas</a></li>
<li class="chapter" data-level="5.2.4" data-path="organizacja-pierwszy-obraz-i-prosta-aplikacja.html"><a href="organizacja-pierwszy-obraz-i-prosta-aplikacja.html#zarządzanie-obrazami-i-kontenerami"><i class="fa fa-check"></i><b>5.2.4</b> Zarządzanie obrazami i kontenerami</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="wykorzystanie-gotowych-kontenerów.html"><a href="wykorzystanie-gotowych-kontenerów.html"><i class="fa fa-check"></i><b>5.3</b> Wykorzystanie gotowych kontenerów</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="wykorzystanie-gotowych-kontenerów.html"><a href="wykorzystanie-gotowych-kontenerów.html#uruchomienie-gotowego-kontenera-z-notatnikiem-jupyter-i-środowiskiem-datascience"><i class="fa fa-check"></i><b>5.3.1</b> Uruchomienie gotowego kontenera z notatnikiem Jupyter i środowiskiem DataScience</a></li>
<li class="chapter" data-level="5.3.2" data-path="wykorzystanie-gotowych-kontenerów.html"><a href="wykorzystanie-gotowych-kontenerów.html#demo-kontener-ze-środowiskiem-pycaret"><i class="fa fa-check"></i><b>5.3.2</b> Demo: kontener ze środowiskiem PyCaret</a></li>
<li class="chapter" data-level="5.3.3" data-path="wykorzystanie-gotowych-kontenerów.html"><a href="wykorzystanie-gotowych-kontenerów.html#ćwiczenie-prosta-transformacja-danych-z-pandas-1"><i class="fa fa-check"></i><b>5.3.3</b> Ćwiczenie: prosta transformacja danych z pandas</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="wymiana-plików-kontenerhost.html"><a href="wymiana-plików-kontenerhost.html"><i class="fa fa-check"></i><b>5.4</b> Wymiana plików kontener&lt;&gt;host</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="wymiana-plików-kontenerhost.html"><a href="wymiana-plików-kontenerhost.html#stworzenie-kontenera-udostępniającego-wyłącznie-środowisko-uruchomieniowe"><i class="fa fa-check"></i><b>5.4.1</b> Stworzenie kontenera udostępniającego wyłącznie środowisko uruchomieniowe</a></li>
<li class="chapter" data-level="5.4.2" data-path="wymiana-plików-kontenerhost.html"><a href="wymiana-plików-kontenerhost.html#uruchomienie-bez-podłączania-lokalnego-systemu-plików"><i class="fa fa-check"></i><b>5.4.2</b> Uruchomienie bez podłączania lokalnego systemu plików</a></li>
<li class="chapter" data-level="5.4.3" data-path="wymiana-plików-kontenerhost.html"><a href="wymiana-plików-kontenerhost.html#uruchomienie-z-podłączeniem-lokalnego-systemu-plików"><i class="fa fa-check"></i><b>5.4.3</b> Uruchomienie z podłączeniem lokalnego systemu plików</a></li>
<li class="chapter" data-level="5.4.4" data-path="wymiana-plików-kontenerhost.html"><a href="wymiana-plików-kontenerhost.html#utrzymanie-ciągłości-pracy-pojedyńczej-aplikacji-z-volume-mount"><i class="fa fa-check"></i><b>5.4.4</b> Utrzymanie ciągłości pracy pojedyńczej aplikacji z <code>volume mount</code></a></li>
<li class="chapter" data-level="5.4.5" data-path="wymiana-plików-kontenerhost.html"><a href="wymiana-plików-kontenerhost.html#współdzielenie-danych-pomiędzy-kontenerami-z-volume-mount"><i class="fa fa-check"></i><b>5.4.5</b> Współdzielenie danych pomiędzy kontenerami z <code>volume mount</code></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="aplikacje-wielokontenerowe.html"><a href="aplikacje-wielokontenerowe.html"><i class="fa fa-check"></i><b>5.5</b> Aplikacje wielokontenerowe</a></li>
<li class="chapter" data-level="5.6" data-path="podsumowanie.html"><a href="podsumowanie.html"><i class="fa fa-check"></i><b>5.6</b> Podsumowanie</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Architektury i metodyki wdrożeń systemów Sztucznej Inteligencji</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="organizacja-pierwszy-obraz-i-prosta-aplikacja" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Organizacja, pierwszy obraz i prosta aplikacja<a href="organizacja-pierwszy-obraz-i-prosta-aplikacja.html#organizacja-pierwszy-obraz-i-prosta-aplikacja" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<iframe width="745" height="450" src="https://www.youtube.com/embed/IMvkgFKQObg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<div id="demo---pierwszy-obraz-docker" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Demo - pierwszy obraz docker<a href="organizacja-pierwszy-obraz-i-prosta-aplikacja.html#demo---pierwszy-obraz-docker" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><font size="5"> <strong>Organizacja</strong> </font></p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
Załóż konto na Docker</li>
<li><input type="checkbox" disabled="" />
Zaloguj się w Docker Hub, i stwórz pierwsze repozytorium</li>
<li><input type="checkbox" disabled="" />
Zainstaluj aplikację Docker</li>
</ul>
<p><font size="5"> <strong>Obraz</strong> </font></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" />
Załóż folder, i stwórz w nim prostą aplikację</p></li>
<li><p><input type="checkbox" disabled="" />
Stwórz plik Dockerfile, na wzór:
<img src="media/image-20220517102935475.png" alt="image-20220517102935475" style="zoom:25%;" /></p></li>
<li><p><input type="checkbox" disabled="" />
Stwórz obraz docker nadając mu nazwę (flaga –tag) <em>pierwsza_aplikacja</em>:</p><p><code>$ docker build --tag pierwsza_aplikacja .</code></p></li>
<li><p><input type="checkbox" disabled="" />
Uruchom obraz o nazwie <em>pierwsza_aplikacja</em> lokalnie:</p><p><code>$ docker run pierwsza_aplikacja</code></p></li>
</ul>
<p><font size="5"> <strong>Udostępnienie</strong> </font></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" />
Zmień nazwę obrazu tak, by móc go opublikować swoim repozytorium Docker Hub:</p><p><code>$ docker build -t andrzejwodecki/ml_tests:pierwsza_aplikacja .</code></p></li>
<li><p><input type="checkbox" disabled="" />
Opublikuj obraz w swoim repozytorium Docker Hub:</p><p><code>$ docker push -t andrzejwodecki/ml_tests:pierwsza_aplikacja</code></p></li>
<li><p><input type="checkbox" disabled="" />
Uruchom obraz na innym systemie:</p><ul class="task-list">
<li><p><input type="checkbox" disabled="" />
zainstaluj na nim Docker’a</p></li>
<li><p><input type="checkbox" disabled="" />
uruchom kontener:</p><p><code>$ docker run -t andrzejwodecki/ml_tests:pierwsza_aplikacja</code></p></li>
</ul></li>
</ul>
<p><font size="5"> Przydatne źródła </font></p>
<p>Najlepszym znanym mi źródłem wiedzy nt systemu Docker jest oficjalny kurs dostępny na stronie:</p>
<p><a href="https://docs.docker.com/get-started/" class="uri">https://docs.docker.com/get-started/</a></p>

</div>
<div id="demo-trenowanie-i-ewaluacja" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Demo: trenowanie i ewaluacja<a href="organizacja-pierwszy-obraz-i-prosta-aplikacja.html#demo-trenowanie-i-ewaluacja" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="745" height="450" src="https://www.youtube.com/embed/alTcrAvHbec" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>W tym prostym ćwiczeniu stworzysz i uruchomisz lokalnie prosty proces trenowania i ewaluacji modelu.</p>
<p>Aby stworzyć obraz, w linii komend wpisz:</p>
<p><code>docker build --tag train_eval .</code></p>
<p>Aby uruchomić kontener, w linii komend wpisz:</p>
<p><code>docker run -ti train_eval</code></p>
<p>Zauważ, że w tym podejściu:</p>
<ol style="list-style-type: decimal">
<li>kontener automatycznie uruchamia skrypt <code>run.py</code> (zgodnie z ostatnią instrukcją w pliku <code>Dockerfile</code>)</li>
<li>jest zarzymywany bezpośrednio po ukończeniu jego realizacji (możesz to sprawdź uruchamiają w linii komend polecenie <code>docker ps</code>)</li>
<li>wszystkie pliki niezbędne do uruchomienia (komponenty i artefakty) są przechowywane w kontenerze</li>
<li>użytkownik nie ma do nich dostępu, w szczególności nie może ich modyfikować.</li>
</ol>

</div>
<div id="ćwiczenie-prosta-transformacja-danych-z-pandas" class="section level3 hasAnchor" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Ćwiczenie: prosta transformacja danych z pandas<a href="organizacja-pierwszy-obraz-i-prosta-aplikacja.html#ćwiczenie-prosta-transformacja-danych-z-pandas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Uwaga: komplet wersji demonstracyjnych, ćwiczeń i rozwiązań oraz rekomendacje dotyczące środowiska uruchomieniowego znajdziesz tutaj:</em></p>
<p><a href="https://github.com/wodecki/ASI_2022" class="uri">https://github.com/wodecki/ASI_2022</a></p>
<hr />
<p>W tym ćwiczeniu stworzysz i uruchomisz prosty kontener docker umożliwiający wczytanie danych z istniejącego pliku csv, przemnożenie ich przez 2 i zapis tak zmienionej ramki danych do nowego pliku.</p>
<p><strong>Lista kontrolna</strong></p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
Skrypt Python <code>app1.py</code>:<ul class="task-list">
<li><input type="checkbox" disabled="" />
Wczytuje pakiet pandas w poprawnej wersji i drukuje tę wersję na ekranie</li>
<li><input type="checkbox" disabled="" />
Wczytuje zawartość pliku <code>/input/input.csv</code> do ramki danych, i drukuje ją na ekranie</li>
<li><input type="checkbox" disabled="" />
Mnoży tę treść x2, przypisuje do nowej ramki danych i drukuje wynik na ekranie</li>
<li><input type="checkbox" disabled="" />
Zapisuje nową ramkę do pliku tekstowego <code>/output/output.csv</code></li>
</ul></li>
<li><input type="checkbox" disabled="" />
Plik <code>Dockerfile</code> specyfikujący obraz, który kopiuje komplet niezbędnych danych, ale nie uruchamia skryptu <code>app1.py</code> (dzięki czemu kontener nie zatrzymuje się po jego uruchomieniu)</li>
<li><input type="checkbox" disabled="" />
Obraz docker o nazwie <code>app1</code></li>
<li><input type="checkbox" disabled="" />
Plik README.md z instrukcją dla użytkownika pokazującą,<ul class="task-list">
<li><input type="checkbox" disabled="" />
w jaki sposób zbudować obraz</li>
<li><input type="checkbox" disabled="" />
w jaki sposób uruchomić kontener tak, by użytkownik mógł obejrzeć i modyfikować pliki wewnątrz kontenera (komponent <code>app1.py</code> i artefakt <code>input\input.csv</code>).<ul class="task-list">
<li><input type="checkbox" disabled="" />
Wskazówka: aby umożliwić edycję pliku, po uruchomieniu kontenera trzeba w nim zainstalować wybrany edytor. Przykładowo, dla edytora <code>nano</code>, uruchomić:<ul class="task-list">
<li><input type="checkbox" disabled="" />
<code>$ apt-get update</code></li>
<li><input type="checkbox" disabled="" />
<code>$ apt-get install nano</code></li>
</ul></li>
</ul></li>
<li><input type="checkbox" disabled="" />
w jaki sposób uruchomić skrypt <code>app1.py</code> dostępny wewnątrz uruchomionego kontenera?</li>
</ul></li>
</ul>

</div>
<div id="zarządzanie-obrazami-i-kontenerami" class="section level3 hasAnchor" number="5.2.4">
<h3><span class="header-section-number">5.2.4</span> Zarządzanie obrazami i kontenerami<a href="organizacja-pierwszy-obraz-i-prosta-aplikacja.html#zarządzanie-obrazami-i-kontenerami" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="745" height="450" src="https://www.youtube.com/embed/Nkd3rpRXLPQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<iframe width="745" height="450" src="https://www.youtube.com/embed/qMthIRYgP1o" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Zrozumienie podstaw działania obrazów i kontenerów jest krytycznie ważne do ich efektywnego wykorzystania w projektach Data Science. Poniżej przedstawimy kilka kluczowych koncepcji, ilustrując je prostymi przykładami.</p>
<p><font size="5"> <strong>Zarządzanie obrazami</strong> </font></p>
<p>Najczęściej pierwszym krokiem w procesie tworzenia nowego obrazu jest zgromadzenie w jednym miejscu odpowiednich plików z danymi oraz skryptów oraz przetestowanie ich poprawnego działania.</p>
<p>W kolejnym kroku tworzymy plik Dockerfile, specyfikując zakres i konfigurację uruchamiania obrazów.</p>
<p>W naszym przykładzie zaczniemy od następującego pliku Dockerfile:</p>
<p><img src="media/image-20220530184057776.png" alt="image-20220530184057776" style="zoom:50%;" /></p>
<p>Obraz tworzymy komendą:</p>
<p><code>docker build -t app1:v1 .</code></p>
<p><img src="media/image-20220530184437327.png" alt="image-20220530184437327" style="zoom:50%;" /></p>
<p>Możemy teraz sprawdzić, czy nowy obraz pojawił się w systemie, korzystając z komendy (wykorzystujemy to przekierowanie potoku do funkcji <code>grep</code> po to, by pokazać wyłącznie obrazy o nazwie <code>app1</code>) :</p>
<p><code>docker images | grep app1</code></p>
<p>Jak widać, nowy obraz pojawił się w naszym systemie.</p>
<p>Obrazy możemy też usuwać (<code>docker images rm &lt;ID kontenera&gt;</code>), zmieniać ich nazwę, etc.</p>
<p><font size="5"> <strong>Zarządzanie kontenerami</strong> </font></p>
<p>Komenda:</p>
<p><code>docker ps</code></p>
<p>wyświetla wszystkie <strong>aktualnie uruchomione</strong> kontenery.</p>
<p>Aby zobaczyć wszystkie kontenery w systemie, również te zatrzymane, trzeba uruchomić tę komendę z flagą -a:</p>
<p><code>docker ps -a</code></p>
<p>Uruchomienie tych dwóch komend w “czystym” systemie powinno zwrócić pusty wynik.</p>
<p>Zobaczmy, co się stanie, gdy uruchomimy nasz obraz wykorzystując komendę:</p>
<p><code>docker run -ti app1:v1</code></p>
<p>Program uruchamia się poprawnie:
<img src="media/image-20220530185408908.png" alt="image-20220530185408908" style="zoom:50%;" /></p>
<p>Komenda <code>docker ps</code> zwraca pusty wynik, ale już <code>docker ps -a</code> wyświetla na ekranie:</p>
<div class="figure">
<img src="media/image-20220530185553968.png" alt="" />
<p class="caption">image-20220530185553968</p>
</div>
<p>Jak widać, <strong>kontener po uruchomieniu się zatrzymał</strong>: nie jest już aktywny (pusty komunikat <code>docker ps</code>), ale istnieje w repozytorium kontenerów.</p>
<p>Dzieje się tak dlatego, że w ostatniej linii naszego pliku Dockerfile wywołaliśmy komendę <em>CMD [“python3”,“app_1.py”]</em> uruchamiającą skrypt Python: kontener po poprawnym wykonaniu skryptu otrzymuje sygnał do zatrzymania. Brak tej komendy:</p>
<ol style="list-style-type: decimal">
<li>Z jednej strony nie uruchamiałby skryptu app_1.py. Jego uruchomienie byłoby możliwe jedynie “z wnętrza” kontenera</li>
<li>… ale z drugiej nie zatrzymuje działania kontenera.</li>
</ol>
<p>Spróbujmy teraz uruchomić kontener ponownie, wykorzystując w tym celu jeszcze raz komendę:</p>
<p><code>docker run -ti app1:v1</code></p>
<p>Tak, jak poprzednio komenda <code>docker ps</code> zwraca pusty wynik, ale <code>docker ps -a</code> wyświetla na ekranie:</p>
<div class="figure">
<img src="media/image-20220530185851387.png" alt="" />
<p class="caption">image-20220530185851387</p>
</div>
<p>Wynika z tego, że <strong>efektem ponownego uruchomienia kontenera komendą <code>docker run ...</code> było utworzenie nowego kontenera.</strong></p>
<p>Wynika z tego istotna obserwacja: <strong>wielokrotne korzystanie z funkcji <code>docker run ...</code> generuje wiele kontenerów, osobny dla każdego z uruchomień.</strong></p>
<p>Po pewnym czasie kontenerów może być tak dużo, że konieczne jest ich usunięcie. Można to zrobić “ręcznie” korzystając z komendy <code>docker container rm &lt;ID kontenera&gt;</code>:</p>
<div class="figure">
<img src="media/image-20220530190309976.png" alt="" />
<p class="caption">image-20220530190309976</p>
</div>
<p>W ekstremalnej wersji można też skorzystać z komendy <code>docker container prune</code> usuwającej wszystkie kontenery.</p>
<p><font size="5"> <strong>Uruchamianie zatrzymanych kontenerów</strong> </font></p>
<p>Aby <strong>uruchomić ponownie zatrzymany kontener</strong>, uruchom:</p>
<p><code>docker container start &lt;ID kontenera&gt;</code>:</p>
<p><img src="media/image-20220530191957071.png" alt="image-20220530191957071" style="zoom:50%;" /></p>
<p>Wykorzystaliśmy tu flagę -a (attach), aby móc wyświetlić komunikaty z kontenera.</p>
<p>Tak, jak poprzednio, po uruchomieniu jest on zatrzymywany, <strong>a wszystkie generowane przez niego dane tracone.</strong> O tym, jak je zachować, opowiemy w części poświęconej wymianie plików pomiędzy kontenerami a hostem.</p>
<p><font size="5"> <strong>Uruchamianie komendy wewnątrz uruchomionego kontenera</strong> </font></p>
<p>Do uruchomienia komendy wewnątrz kontenera można wykorzystać komendę EXEC:</p>
<p><code>docker exec -ti &lt;ID kontenera&gt; COMMAND</code></p>
<p>Uwaga: przykład poniżej pokazuje, że <strong>jest to możliwe wyłącznie w sytuacji, gdy kontener jest uruchomiony</strong>:</p>
<div class="figure">
<img src="media/image-20220530192639210.png" alt="" />
<p class="caption">image-20220530192639210</p>
</div>
<p>Jak spowodować, aby nasz kontener nie był zamykany bezpośrednio po uruchomieniu?</p>
<p>Pierwszą z opcji przedstawiliśmy powyżej: w<strong>ystarczy, aby nasz Dockerfile nie zawierał na końcu komendy uruchamiającej skrypt</strong>, jak na przykładzie poniżej:</p>
<p><img src="media/image-20220530192948037.png" alt="image-20220530192948037" style="zoom:50%;" /></p>
<p>Inna możliwość to <strong>uruchomienie kontenera z komendą bash na końcu linii komendy</strong>:</p>
<p><code>docker run -ti app1:v1 bash</code></p>
<p>Dzięki niej uruchamiamy kontener i otrzymujemy dostęp do jej powłoki bash. Będąc w niej, możemy uruchomić nasz skrypt, przeglądać i modyfikować pliki, etc.:</p>
<p><img src="media/image-20220530193714334.png" alt="image-20220530193714334" style="zoom:50%;" /></p>
<p>Tym razem już komenda <code>docker ps</code> wskazuje, że nasz kontener jest aktywny:</p>
<p><img src="media/image-20220530193816817.png" alt="image-20220530193816817" style="zoom:50%;" /></p>
<p>W efekcie, można już w nim uruchamiać różne programy wykorzystując komendę <code>exec</code>:</p>
<p><img src="media/image-20220530194249552.png" alt="image-20220530194249552" style="zoom:50%;" /></p>
<p>Jest to o tyle wygodne, że <strong>po każdym takim uruchomieniu wracam do naszej lokalnej powłoki</strong>. Może mieć to bardzo ciekawe zastosowania w uruchomienia produkcyjnej (zarządzanie uruchamianiem kontenerów poprzez skrypty powłoki).</p>
<p><font size="5"> <strong>Zarządzanie obrazami i kontenerami z wykorzystaniem aplikacji Docker Desktop oraz IDE</strong> </font></p>
<p>Linia komend to nie jedyny sposób na inspekcję i zarządzanie obrazami i kontenerami. Można do tego z powodzeniem wykorzystać:</p>
<ol style="list-style-type: decimal">
<li>Aplikację Docker Desktop:
<img src="media/image-20220530195315219.png" alt="image-20220530195315219" /></li>
<li>Środowisko IDE, np. MS Visual Studio Code:
<img src="media/image-20220530195413513.png" alt="image-20220530195413513" style="zoom:50%;" /></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="wprowadzenie-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="wykorzystanie-gotowych-kontenerów.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/wodecki/ASI/edit/master/5.2.1._Docker_-_Demo_-_organizacja_i_pierwsza_aplikacja.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["series.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
